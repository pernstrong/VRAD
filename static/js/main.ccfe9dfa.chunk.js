(this.webpackJsonpvrad=this.webpackJsonpvrad||[]).push([[0],{22:function(e,t,a){e.exports=a(43)},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(19),i=a.n(s),c=(a(27),a(9)),l=a(10),o=a(11),u=a(13),m=a(12),f=(a(28),a(20)),g=(a(29),a(3)),d=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(f.a)({},a,r))},n.handleClick=function(e){n.checkInputs()?n.props.setUser({name:n.state.name,email:n.state.email,purpose:n.state.purpose}):n.setState({errorMsg:r.a.createElement("p",null,"Please fill in all inputs.")})},n.checkInputs=function(){return""!==n.state.name&&""!==n.state.email&&""!==n.state.purpose},n.state={name:"",email:"",purpose:"",errorMsg:""},n}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{className:"signIn-form"},r.a.createElement("h2",null,"Welcome, please sign in!"),r.a.createElement("label",{htmlFor:"name"},"Enter your name:"),r.a.createElement("input",{type:"text",name:"name",id:"name",placeholder:"Your name",value:this.state.name,onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"email"},"Enter your email:"),r.a.createElement("input",{type:"text",name:"email",id:"email",placeholder:"Your email",value:this.state.email,onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"purpose"},"Why are you visiting?"),r.a.createElement("select",{name:"purpose",id:"purpose",onChange:this.handleChange},r.a.createElement("option",{value:""},"-- Please choose a purpose --"),r.a.createElement("option",{value:"business"},"Business"),r.a.createElement("option",{value:"vacation"},"Vacation"),r.a.createElement("option",{value:"fugitive"},"Fugitive on the Run"),r.a.createElement("option",{value:"other"},"Other")),r.a.createElement("p",{className:"error-message"},this.state.errorMsg),r.a.createElement(g.b,{to:this.checkInputs()?"/areas":"/"},r.a.createElement("button",{className:"signIn-btn",onClick:this.handleClick},"Sign In")))}}]),a}(r.a.Component),v=(a(35),a(36),function(e){var t=e.id,a=e.name,n=e.location,s=e.about;return r.a.createElement("section",{className:"area-card","data-id":t},r.a.createElement("h2",{className:"area-name"},a),r.a.createElement("h3",null,n),r.a.createElement("p",null,s),r.a.createElement(g.b,{to:"/areas/".concat(t)},r.a.createElement("button",{onClick:function(){return e.setCurrentArea(t)}},"View Listings")))}),h=a(1),E=a(7),p=a.n(E),b=function(e){var t=e.areas.map((function(t){return r.a.createElement(h.b,{to:"/areas/".concat(t.id),render:function(){return r.a.createElement(v,Object.assign({},t,{setCurrentArea:e.setCurrentArea}))},key:t.name})}));return r.a.createElement("section",{className:"areas-container"},t)},N=b;b.propTypse={areas:p.a.array.isRequired,setCurrentArea:p.a.func.isRequired};a(37),a(38);var C=function(e){var t="/images/".concat(e.listing_id,"_a.jpg");return r.a.createElement("section",{className:"listing-card"},r.a.createElement("h2",{className:"listing-name"},e.name),r.a.createElement("img",{className:"listing-img-a",src:"".concat(t),alt:e.name}),r.a.createElement(g.b,{to:"/listings/".concat(e.listing_id)},r.a.createElement("button",{className:"listing-details-btn",onClick:function(){return e.setCurrentListing(e.listing_id)}},"Listing Details")))},F=function(e){var t=e.listings.map((function(t){return r.a.createElement(C,Object.assign({key:t.listing_id},t,{setCurrentListing:e.setCurrentListing}))}));return r.a.createElement("section",{className:"listings-container"},t)},k=(a(39),function(e){return r.a.createElement("header",null,r.a.createElement("section",{className:"vrad"},r.a.createElement(g.b,{className:"accronym-link",to:e.user.name?"/areas":"/"},r.a.createElement("h1",null,"V.R.A.D.")),r.a.createElement("p",{className:"acronym"},"Vacation Rentals Around Denver")),e.user&&r.a.createElement("h2",{className:"welcome-msg"},"Welcome to Denver!"),e.user&&r.a.createElement("section",{className:"message-section"},r.a.createElement("h3",null,"Guest Details"),r.a.createElement("section",{className:"guest-details"},r.a.createElement("p",null,"User: ",e.user.name),r.a.createElement("p",null,"Trip Purpose: ",e.user.purpose)),r.a.createElement("section",{className:"btn-section"},r.a.createElement(g.c,{to:"/favorites",activeClassName:"my-favorites-btn-active"},r.a.createElement("button",{className:"my-favorites-btn"},"My Favorites (",e.numberOfFavorites,")")),r.a.createElement(g.b,{to:"/"},r.a.createElement("button",{onClick:function(){return e.resetUser()}},"Sign Out")))))}),y=(a(40),function(e){var t=e.details,a=t.name,n=t.address,s=t.details,i="/images/".concat(e.details.listing_id,"_a.jpg"),c="/images/".concat(e.details.listing_id,"_b.jpg"),l="/images/".concat(e.details.listing_id,"_c.jpg");return r.a.createElement("section",{className:"listing-details"},r.a.createElement("div",{className:"details-header"},r.a.createElement("div",{className:"name-address"},r.a.createElement("h2",{className:"listing-name"},a),r.a.createElement("p",{className:"listing-address"},n.street," ",n.street)),r.a.createElement("button",{className:"favorites-btn",onClick:function(){return e.favoriteIds.includes(e.details.listing_id)?e.removeFromFavorites(e.details.listing_id):e.saveToFavorites(e.details.listing_id)}},e.favoriteIds.includes(e.details.listing_id)?"Remove from Favorites":"Add to Favorites")),r.a.createElement("div",{className:"details"},r.a.createElement("h3",null,"Details"),r.a.createElement("p",{className:"detail"},"Bedrooms: ",s.beds),r.a.createElement("p",{className:"detail"},"Bathrooms: ",s.baths),r.a.createElement("p",{className:"detail"},"Cost per Night: $",s.cost_per_night)),r.a.createElement("div",{className:"features"},r.a.createElement("h3",null,"Features"),r.a.createElement("ul",{className:"features"},s.features.map((function(e){return r.a.createElement("li",{className:"feature",key:e},e)})))),r.a.createElement("div",{className:"images"},r.a.createElement("img",{className:"listing-img",src:"".concat(i),alt:e.name}),r.a.createElement("img",{className:"listing-img",src:"".concat(c),alt:e.name}),r.a.createElement("img",{className:"listing-img",src:"".concat(l),alt:e.name})))}),j=(a(41),function(e){var t=e.favorites.map((function(t){return r.a.createElement(C,Object.assign({key:t.listing_id},t,{setCurrentListing:e.setCurrentListing}))}));return r.a.createElement("section",{className:"favorites-container"},r.a.createElement("div",{className:"favorites-header"},r.a.createElement("h2",null,"My Favorites"),r.a.createElement(g.b,{to:"/areas"},r.a.createElement("button",null,"Return to Areas"))),0===e.favorites.length&&r.a.createElement("p",null,"You have no favorites yet. Favorite a listing!"),t)}),O=(a(42),function(){return r.a.createElement("section",{className:"error-section"},r.a.createElement("h2",null,"Error 404"),r.a.createElement("p",null,"You've reached a page that does not exist...please try again."))}),_=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).setUser=function(t){e.setState({user:t}),e.fetchListings()},e.resetUser=function(){e.setState({user:"",favorites:[]})},e.setCurrentArea=function(t){e.setState({currentArea:t})},e.setCurrentListing=function(t){e.setState({currentListing:t})},e.saveToFavorites=function(t){e.state.favorites.includes(t)||e.setState({favorites:[].concat(Object(c.a)(e.state.favorites),[t])})},e.findFavoriteListings=function(){var t=[].concat(Object(c.a)(e.state.listings[590]),Object(c.a)(e.state.listings[751]),Object(c.a)(e.state.listings[408]),Object(c.a)(e.state.listings[240])),a=[];return e.state.favorites.forEach((function(e){var n=t.find((function(t){return t.listing_id===e}));a.push(n)})),a},e.removeFromFavorites=function(t){var a=e.state.favorites.filter((function(e){return e!==t}));e.setState({favorites:a})},e.fetchListings=function(){fetch("https://vrad-api.herokuapp.com/api/v1/listings/").then((function(e){return e.json()})).then((function(t){var a=t.listings.reduce((function(e,t){return e[t.area_id].push(t),e}),{590:[],751:[],408:[],240:[]});e.setState({listings:a})})).catch((function(e){return console.error(e)}))},e.state={user:"",areas:[],listings:[],currentArea:"",currentListing:"",favorites:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://vrad-api.herokuapp.com/api/v1/areas").then((function(e){return e.json()})).then((function(e){var t=e.areas.map((function(e){var t="https://vrad-api.herokuapp.com".concat(e.details);return fetch(t).then((function(e){return e.json()})).then((function(e){return e}))}));return Promise.all(t)})).then((function(t){return e.setState({areas:t})})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(k,{user:this.state.user,resetUser:this.resetUser,numberOfFavorites:this.state.favorites.length}),r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/listings/".concat(this.state.currentListing),render:function(){var t=e.state.listings[e.state.currentArea].find((function(t){return t.listing_id===e.state.currentListing}));return r.a.createElement(y,{details:t,saveToFavorites:e.saveToFavorites,removeFromFavorites:e.removeFromFavorites,favoriteIds:e.state.favorites})}}),r.a.createElement(h.b,{exact:!0,path:"/areas",render:function(){return r.a.createElement(N,{areas:e.state.areas,setCurrentArea:e.setCurrentArea})}}),r.a.createElement(h.b,{exact:!0,path:"/areas/".concat(this.state.currentArea),render:function(){return r.a.createElement(F,{listings:""!==e.state.currentArea?e.state.listings[e.state.currentArea]:[],setCurrentListing:e.setCurrentListing})}}),r.a.createElement(h.b,{path:"/favorites",render:function(){return r.a.createElement(j,{favorites:e.findFavoriteListings(),setCurrentListing:e.setCurrentListing})}}),r.a.createElement(h.b,{exact:!0,path:"/",render:function(){return r.a.createElement(d,{setUser:e.setUser})}}),r.a.createElement(h.b,{path:"/error",render:function(){return r.a.createElement(O,null)}}),r.a.createElement(h.a,{to:"/error"})))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g.a,null,r.a.createElement(_,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.ccfe9dfa.chunk.js.map